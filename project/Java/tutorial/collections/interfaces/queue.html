
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
    <head>
        <title>The Queue Interface (The Java&trade; Tutorials &gt; 
            Collections &gt; Interfaces)
</title>
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #E76F00;
        font-family: sans-serif; 
        font-weight: bold;
        font-size: 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;
        font-size: smaller;
        font-family: sans-serif; 
    }
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #E76F00;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h3, h4, h5 {
        color: #E76F00;
        font-family: sans-serif;
    }
    #ToggleLeft {
        display: none;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Collections
        <br><b>Lesson:</b> Interfaces
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Interfaces</a></div>
<div class="linkAHEAD"><a href="collection.html">The Collection Interface</a></div>
<div class="linkAHEAD"><a href="set.html">The Set Interface</a></div>
<div class="linkAHEAD"><a href="list.html">The List Interface</a></div>
<div class="nolinkAHEAD">The Queue Interface</div>
<div class="linkAHEAD"><a href="map.html">The Map Interface</a></div>
<div class="linkAHEAD"><a href="order.html">Object Ordering</a></div>
<div class="linkAHEAD"><a href="sorted-set.html">The SortedSet Interface</a></div>
<div class="linkAHEAD"><a href="sorted-map.html">The SortedMap Interface</a></div>
<div class="linkAHEAD"><a href="summary.html">Summary of Interfaces</a></div>
<div class="linkQUESTIONS"><a href="QandE/questions.html">Questions and Exercises</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Collections</a>
                &gt;
                <a href=index.html target=_top>Interfaces</a>
            </span>
            <div class=NavBit>
                <a target=_top href=list.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=map.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle>The Queue Interface</div>
            <blockquote>
A
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/util/Queue.html"><code>Queue</code></a> is a collection for holding elements prior to processing. Besides
basic <code>Collection</code> operations, queues provide additional insertion,
removal, and inspection operations. The <code>Queue</code> interface follows.
<blockquote><pre>
public interface Queue&lt;E&gt; extends Collection&lt;E&gt; {
    E element();
    boolean offer(E e);
    E peek();
    E poll();
    E remove();
}
</pre></blockquote>
Each <code>Queue</code> method exists in two forms: (1) one throws an exception if the operation fails, and (2) the other returns a special value if the operation fails (either <code>null</code>
or <code>false</code>, depending on the operation). The regular structure of the
interface is illustrated in

<span id="table:queue-structure">the following table</span>.

<center>
<table border=1>
<caption id="queue-structure"><strong>Queue Interface Structure</strong></caption>
<tr><td>&nbsp;</td>
    <td><b>Throws exception</b></td>
    <td><b>Returns special value</b></td>
</tr>
<tr><td><b>Insert</b></td>
    <td><code>add(e)</code></td>
    <td><code>offer(e)</code></td>
</tr>
<tr><td><b>Remove</b></td>
    <td><code>remove()</code></td>
    <td><code>poll()</code></td>
</tr>
<tr><td><b>Examine</b></td>
    <td><code>element()</code></td>
    <td><code>peek()</code></td>
</tr>
</table>
</center>
<p/>
Queues typically, but not necessarily, order elements in a FIFO (first-in-first-out) manner. Among the exceptions are priority queues, which order elements according to their values &mdash; see the
<a class="TutorialLink" target="_top" href="order.html">Object Ordering</a> section for details). Whatever ordering is used, the head of the queue is the element that would be removed by a call to <code>remove</code> or <code>poll</code>. In a FIFO queue, all new elements are inserted at the tail of the queue. Other kinds of queues may use different placement rules. Every <code>Queue</code> implementation must specify its ordering properties.

<P>

It is possible for a <code>Queue</code> implementation to restrict the number of elements that it holds; such queues are known as <I>bounded</I>. Some <code>Queue</code> implementations in <code>java.util.concurrent</code> are bounded, but the implementations in <code>java.util</code> are not.

<P>

The <code>add</code> method, which <code>Queue</code> inherits from
<code>Collection</code>, inserts an element unless it would violate the
queue's capacity restrictions, in which case it throws
<code>IllegalStateException</code>. The <code>offer</code> method,
which is intended solely for use on bounded queues,
differs from <code>add</code> only in that it indicates failure to insert an element by returning <code>false</code>.
<P>
The <code>remove</code> and <code>poll</code> methods both remove and return
the head of the queue. Exactly which element gets removed is a function of
the queue's ordering policy. The <code>remove</code> and <code>poll</code>
methods differ in their behavior only when the queue is empty. Under these
circumstances, <code>remove</code> throws <code>NoSuchElementException</code>,
while <code>poll</code> returns <code>null</code>.

<P>

The <code>element</code> and <code>peek</code> methods return, but do not remove, the head of the queue. They differ from one another in precisely the same fashion as <code>remove</code> and <code>poll</code>: If the queue is empty, <code>element</code> throws <code>NoSuchElementException</code>, while
<code>peek</code> returns <code>null</code>.

<P>

<code>Queue</code> implementations generally do not allow insertion of <code>null</code> elements. The <code>LinkedList</code> implementation, which was retrofitted to implement <code>Queue</code>, is an exception. For historical reasons, it permits <code>null</code> elements, but you should refrain from taking advantage of this, because <code>null</code> is used as a special return value by the <code>poll</code> and <code>peek</code> methods.

<P>

Queue implementations generally do not define element-based versions of the
<code>equals</code> and <code>hashCode</code> methods but instead inherit the
identity-based versions from <code>Object</code>.

<P>

The <code>Queue</code> interface does not define the blocking queue methods,
which are common in concurrent programming. These methods, which wait for
elements to appear or for space to become available, are defined in the interface
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html"><code>java.util.concurrent.BlockingQueue</code></a>, which extends <code>Queue</code>.
<P>
In the following example program, a queue is used to implement a countdown
timer. The queue is preloaded with all the integer values from a number
specified on the command line to zero, in descending order. Then, the values
are removed from the queue and printed at one-second intervals. The program
is artificial in that it would be more natural to do the same thing without
using a queue, but it illustrates the use of a queue to store elements prior
to subsequent processing.
<blockquote><pre>
import java.util.*;

public class Countdown {
    public static void main(String[] args)
            throws InterruptedException {
        int time = Integer.parseInt(args[0]);
        Queue&lt;Integer&gt; queue = new LinkedList&lt;Integer&gt;();
        for (int i = time; i &gt;= 0; i--)
            queue.add(i);
        while (!queue.isEmpty()) {
            System.out.println(queue.remove());
            Thread.sleep(1000);
        }
    }
}
</pre></blockquote>

In the following example, a priority queue is used to sort a collection of
elements. Again this program is artificial in that there is no reason to
use it in favor of the <code>sort</code> method provided in
<code>Collections</code>, but it illustrates the behavior of priority queues.

<blockquote><pre>
static &lt;E&gt; List&lt;E&gt; heapSort(Collection&lt;E&gt; c) {
    Queue&lt;E&gt; queue = new PriorityQueue&lt;E&gt;(c);
    List&lt;E&gt; result = new ArrayList&lt;E&gt;();
    while (!queue.isEmpty())
        result.add(queue.remove());
    return result;
}
</pre></blockquote>
        </blockquote>
        <div class=NavBit>
            <a target=_top href=list.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=map.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer>
<div id=TagNotes>
    Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://developer.sun.com/contact/tutorial_feedback.jsp">Give
    us your feedback</a>.
<br><br>
    <a target="_blank" href="../../information/copyright.html">Copyright</a>
    1995-2007 Sun Microsystems, Inc.  All rights reserved.
    <span id=Download>
</span></div> 

    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> The List Interface
        <br><b>Next page:</b> The Map Interface
    </div>
    </body>
</html> 
