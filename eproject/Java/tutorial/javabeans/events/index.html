<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
    <head>
        <title>Lesson: Manipulating Events (The Java&trade; Tutorials &gt; JavaBeans(TM))</title>
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #E76F00;
        font-family: sans-serif; 
        font-weight: bold;
        font-size: 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;
        font-size: smaller;
        font-family: sans-serif; 
    }
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #E76F00;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h3, h4, h5 {
        color: #E76F00;
        font-family: sans-serif;
    }
    #ToggleLeft {
        display: none;
    }

    /t

</style>
    </head>
<body>
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                    <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                        <br>
                    </div> 
                </div> </div> </div> </div> </div>

    <div class=MainFlow_wide>
        <div class=PrintHeaders>
            <b>Trail:</b> JavaBeans(TM)
        </div>
        <div id=BreadCrumbs>
            <a href=../../index.html target=_top>Home Page</a>
        &gt;
            <a href=../index.html target=_top>JavaBeans(TM)</a>
        </div>
        <div class=NavBit>
                <a target=_top href=../properties/index.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=../persistence/index.html>Next&nbsp;&raquo;</a>
        </div>
        <div id=PageTitle>Lesson: Manipulating Events</div>
        <blockquote>
<p><em>Event passing</em> is the means by which components communicate 
with each other. Components broadcast events, and the underlying framework 
delivers the events to the components that are to be notified. The notified 
components usually perform some action based on the event that took place.
<p>The event model was designed to accommodate the JavaBeans&trade; architecture. 
To understand how events and event handling work in the JavaBeans 
component model, you must understand the concepts of events, listeners, 
and sources. To refresh your knowledge in these areas, read the
<a href= "../../uiswing/events/index.html">Writing Event Listeners</a> lesson of the
Swing tutorial.
<p>The event model that is used by the JavaBeans architecture is a delegation model. 
This model is composed of three main parts: <em>sources</em>, <em>events</em>, and <em>listeners</em>.
<P>The source of an event is the object that originates or fires the event. 
The source must define the events it will fire, as well as the methods for 
registering listeners of those events. A listener is an object that 
indicates that it is to be notified of events of a particular type. 
Listeners register for events using the methods defined by the sources of 
those events.
<P>From the Properties lesson you discovered two event listeners. The 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/beans/PropertyChangeListener.html"><CODE>PropertyChangeListener</CODE></a>(in the API reference documentation) interface provides a notification whenever a 
bound property value is changed and the 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/beans/VetoableChangeListener.html"><CODE>VetoableChangeListener</CODE></a>(in the API reference documentation) creates a notification whenever a bean changes 
a constrained property value. 
</blockquote>
<h3>Simple Event Example</h3>
<blockquote>
This example represents an application that performs an action when a button 
is clicked. Button components are defined as sources of an event type 
called 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/awt/event/ActionEvent.html"><CODE>ActionEvent</CODE></a>(in the API reference documentation).
Listeners of events of this type must register for these events using the
<CODE>addActionListener</CODE> method.
<P>Therefore, the <CODE>addActionListener</CODE> method is used to register
the <CODE>ButtonHandler</CODE> object as a listener of the <CODE>ActionEvent</CODE>
event that is fired by the button.
<P>In addition, according to the requirements of the <CODE>ActionListener</CODE>
class, you must define an <CODE>actionPerformed</CODE> method, which is the
method that is called when the button is clicked. 
<pre>
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JTextArea;
import java.awt.BorderLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.WindowConstants;

public class ButtonHandler implements ActionListener {
   /**
   * Component that will contain messages about
   * events generated.
   */
   private JTextArea output;
   /**
   * Creates an ActionListener that will put messages in
   * JTextArea everytime event received.
   */
    public ButtonHandler( JTextArea output )
    {
        this.output = output;
    }

   /**
   * When receives action event notification, appends
   * message to the JTextArea passed into the constructor.
   */
    public void actionPerformed( ActionEvent event )
    {
        this.output.append( "Action occurred: " + event + '\n' );
    }
}

class ActionTester {
    public static void main(String args[]) {
        JFrame frame = new JFrame( "Button Handler" );
        JTextArea area = new JTextArea( 6, 80 );
        JButton button = new JButton( "Fire Event" );
        button.addActionListener( new ButtonHandler( area ) );
        frame.add( button, BorderLayout.NORTH );
        frame.add( area, BorderLayout.CENTER );
        frame.pack();
        frame.setDefaultCloseOperation( WindowConstants.DISPOSE_ON_CLOSE );
        frame.setLocationRelativeTo( null );
        frame.setVisible( true );
    }
}
</pre>
</blockquote>
<h3>Using Introspection to Discover the Events A Bean Fires</h3>
<blockquote>
<p>
The JavaBeans API provides event-oriented design patterns to give 
introspecting tools the ability to discover what events a bean can fire. 
For a bean to be the source of an event, it must implement methods that add
and remove listener objects for that type of event. The design patterns for
these methods are the following:
<pre>
public void add&lt;EventListenerType&gt;(&lt;EventListenerType&gt; a)
public void remove&lt;EventListenerType&gt;(&lt;EventListenerType&gt; a)
</pre>
These methods let a source bean know where to fire events. The source bean then fires
events at those listener beans using the methods for those particular
interfaces. For example, if a source bean registers <code>ActionListener</code>
objects, it will fire events at those objects by calling the
<code>actionPerformed</code> method on those listeners.
<pre>
package java.awt.event;
import java.util.EventListener;

  public interface ActionListener extends EventListener {

  public void actionPerformed(ActionEvent e);
}
</pre>
</blockquote>
<h3>Using the NetBeans GUI Builder to Set Events</h3>
<blockquote>
<p>In the lesson "Using the NetBeans GUI Builder," you learned how to create a 
<CODE>MyBean</CODE> component, add the <CODE>yourName</CODE> property, and design a simple form. 
Now you will set an event by which a value entered in the <CODE>JTextField</CODE> component
is stored in the <CODE>yourName</CODE> property.
Use the GUI Builder as follows to set such an event:
<OL>
	<LI>Left click the MyForm node.
	<LI>Switch to the Connection Mode by clicking the appropriate button on the GUI Builder toolbar.
	<LI>In the Design Area or Inspector window select the OK button (<CODE>jButton1</CODE>).
	Notice that the button is highlighted in red when it is selected.
	<LI>In the Inspector window select the <CODE>myBean1</CODE> component.
	<LI>In the Connection wizard's Select Source Event page, select the 
	action|actionPerformed[<CODE>jButton1ActionPerformed1</CODE>] event by expanding the event type directory nodes,
	as represented in the following figure.
<p><center><IMG SRC="../../figures/javabeans/event-connect.gif" WIDTH="536" HEIGHT="432" ALIGN="BOTTOM" ALT="Selecting the action|actionPerformed[jButton1ActionPerformed1] event. "></center></p>	<LI>Click the Next button.
	<LI>In the Specify Target Operation page, specify the <CODE>yourName</CODE> property in the <CODE>MyBean</CODE>
	component, 
	and click the Next button.
	<LI>In the Enter Parameters page, specify the target property by selecting the Property radio button.
	<LI>Press the ellipsis (...) button to display the Select Property dialog box.
	<LI>In the Select Property dialog box select the <CODE>jTextField</CODE> component 
	from the Component combobox and choose the text property from the list 
	that is presented, as shown on the following figure.
<p><center><IMG SRC="../../figures/javabeans/event-select.gif" WIDTH="175" HEIGHT="263" ALIGN="BOTTOM" ALT="Selecting the action|actionPerformed[jButton1ActionPerformed1] event. "></center></p>	<LI>Click the Finish button.
</OL>
<P>The Source Editor window is now displayed. Since the GUI Builder automatically 
generates the code to connect the form's components, the following code 
will be added to the <CODE>MyForm</CODE> class:
<pre>
    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         
        myBean1.setYourName(jTextField1.getText());
    }
</pre>
</blockquote>

        </blockquote>
    <div class=NavBit>
        <a href=../properties/index.html>&laquo; Previous</a>
        &bull;
        <a href=../TOC.html>Trail</a>
        &bull;
        <a href=../persistence/index.html>Next &raquo;</a>
    </div>
    </div>
    <div id=Footer>
<div id=TagNotes>
    Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://developer.sun.com/contact/tutorial_feedback.jsp">Give
    us your feedback</a>.
<br><br>
    <a target="_blank" href="../../information/copyright.html">Copyright</a>
    1995-2007 Sun Microsystems, Inc.  All rights reserved.
    <span id=Download>
</span></div> 

    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Previous Lesson
        <br><b>Next page:</b> Bean Persistence
    </div>
    </body>
</html> 
