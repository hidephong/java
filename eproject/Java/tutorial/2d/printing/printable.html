<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
    <head>
        <title>A Basic Printing Program (The Java&trade; Tutorials &gt; 
            2D Graphics &gt; Printing)
</title>
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #E76F00;
        font-family: sans-serif; 
        font-weight: bold;
        font-size: 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;
        font-size: smaller;
        font-family: sans-serif; 
    }
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #E76F00;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h3, h4, h5 {
        color: #E76F00;
        font-family: sans-serif;
    }
    #ToggleLeft {
        display: none;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> 2D Graphics
        <br><b>Lesson:</b> Printing
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Printing</a></div>
<div class="nolinkAHEAD">A Basic Printing Program</div>
<div class="linkAHEAD"><a href="dialog.html">Using Print Setup Dialogs</a></div>
<div class="linkAHEAD"><a href="set.html">Printing a Multiple Page Document</a></div>
<div class="linkAHEAD"><a href="services.html">Working with Print Services and Attributes</a></div>
<div class="linkAHEAD"><a href="gui.html">Printing the Contents of a User Interface</a></div>
<div class="linkAHEAD"><a href="swing.html">Printing Support in Swing Components</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>2D Graphics</a>
                &gt;
                <a href=index.html target=_top>Printing</a>
            </span>
            <div class=NavBit>
                <a target=_top href=index.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=dialog.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle>A Basic Printing Program</div>
            <blockquote>
<P>This section explains how to create a basic printing program
that displays a print dialog and prints the text "Hello World" to the
selected printer.

<P>Printing task usually consists of two parts:
<UL>
<LI>Job control &mdash; Creating a print job, associating it with a
  printer, specifying the number of copies, and user print dialog
interaction.
<LI>Page Imaging &mdash; Drawing content to a page, and managing content that spans
pages (pagination).
</UL>
<P>First create the printer job.
The class representing a printer job and most other related
classes is located in the 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/awt/print/package-summary.html"><code>java.awt.print</code></a> package.
<pre>
import java.awt.print.*;

PrinterJob job = PrinterJob.getPrinterJob();
</pre>

<P>Next provide code that renders the content 
to the page by implementing the 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/awt/print/Printable.html"><code>Printable</code></a> interface.

<pre>
class HelloWorldPrinter implements Printable  { ... }
..
job.setPrintable(new HelloWorldPrinter());
</pre>

<P>An application typically displays a print dialog
so that the user can adjust various options such as number of copies,
page orientation, or the destination printer.

<pre>
boolean doPrint = job.printDialog();
</pre>

<P>This dialog appears until the user either approves or cancels printing. 
The <CODE>doPrint</CODE> variable will be true if the user gave a command to go ahead and print.
If the <CODE>doPrint</CODE> variable is false, the user cancelled the print job.
Since displaying the dialog at all is optional, the returned value is purely
informational.

<P>If the <CODE>doPrint</CODE> variable is true, then the application will request that 
the job be printed by calling the <code>PrinterJob.print</code> method.

<pre>
if (doPrint) {
  try {
       job.print();
  } catch (PrinterException e) {
   /* The job did not successfully complete */
  }
}
</pre>

<P>The <code>PrinterException</code> will be thrown if there is 
problem sending the job to the printer. However, since the 
<code>PrinterJob.print</code> method returns as soon as the job is
sent to the printer, the user application cannot detect paper jams or paper out problems. 
This job control boilerplate is sufficient for basic printing uses.

<P>The <CODE>Printable</CODE> interface has only one method:

<pre>
public int print(Graphics graphics, PageFormat pf, int page)
            throws PrinterException;
</pre>

<P>The 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/awt/print/PageFormat.html"><CODE>PageFormat</CODE></a> class describes the page orientation 
(portrait or landscape) and its size and imageable area in units of 1/72nd of an inch.
Imageable area accounts for the margin limits of most printers (hardware margin).
The imageable area is the space inside these margins, and
in practice if is often further limited to leave space
for headers or footers.

<P>A <CODE>page</CODE> parameter is the zero-based page number 
that will be rendered. 
<P> The following code represents the full <CODE>Printable</CODE> implementation:

<pre>
import java.awt.print.*;
import java.awt.*;

public class HelloWorldPrinter implements Printable {

  public int print(Graphics g, PageFormat pf, int page) throws
                                                        PrinterException {

    if (page > 0) { /* We have only one page, and 'page' is zero-based */
         return NO_SUCH_PAGE;
    }

    /* User (0,0) is typically outside the imageable area, so we must
     * translate by the X and Y values in the PageFormat to avoid clipping
     */
    Graphics2D g2d = (Graphics2D)g;
    g2d.translate(pf.getImageableX(), pf.getImageableY());

    /* Now we perform our rendering */
    g.drawString("Hello world!", 100, 100);

    /* tell the caller that this page is part of the printed document */
    return PAGE_EXISTS;
  }
}
</pre>

The complete code for this example is in

<a class="SourceLink" target="_blank" href="examples/HelloWorldPrinter.java"><code>HelloWorldPrinter.java</code></a>.

<P>Sending a 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/awt/Graphics.html"><CODE>Graphics</CODE></a> instance to the printer is
essentially the same as rendering it to the screen. In both cases you need to perform
the following steps:
<UL>
<LI>To draw a test string is as easy as the other operations 
   that were described for drawing to a <CODE>Graphics2D</CODE>.
<LI>Printer graphics have a higher resolution, which should
   be transparent to most code.
<LI>The <CODE>Printable.print()</CODE> method is called by the printing system, 
just as the <CODE>Component.paint()</CODE> method is called to paint a 
Component on the display. The printing system will call the <CODE>Printable.print()</CODE>
   method for page 0, 1,.. etc until  the <CODE>print()</CODE> method returns 
   <CODE>NO_SUCH_PAGE</CODE>.
<LI>The <CODE>print()</CODE> method may be called with the same page index multiple 
times until the document is completed. This feature is applied when the 
user specifies attributes such as multiple copies with collate option.
<LI>The PageFormat's imageable area determines the clip area.
   Imageable area is also important in calculating pagination,
   or how to span content across printed pages,
   since page breaks are determined by how much can fit on each page.
<blockquote><hr><strong>Note:</strong>&nbsp;A call to the <CODE>print()</CODE> method may be skipped for certain page 
indices if the user has specified a different page range that 
does not involve a particular page index.
<hr></blockquote>


        </blockquote>
        <div class=NavBit>
            <a target=_top href=index.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=dialog.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer>
<div id=TagNotes>
    Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://developer.sun.com/contact/tutorial_feedback.jsp">Give
    us your feedback</a>.
<br><br>
    <a target="_blank" href="../../information/copyright.html">Copyright</a>
    1995-2007 Sun Microsystems, Inc.  All rights reserved.
    <span id=Download>
</span></div> 

    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Printing
        <br><b>Next page:</b> Using Print Setup Dialogs
    </div>
    </body>
</html> 
