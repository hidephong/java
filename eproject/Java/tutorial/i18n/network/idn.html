<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
    <head>
        <title>Internationalized Domain Name (The Java&trade; Tutorials &gt; 
            Internationalization &gt; Internationalization of Network Resources)
</title>
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #E76F00;
        font-family: sans-serif; 
        font-weight: bold;
        font-size: 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;
        font-size: smaller;
        font-family: sans-serif; 
    }
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #E76F00;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h3, h4, h5 {
        color: #E76F00;
        font-family: sans-serif;
    }
    #ToggleLeft {
        display: none;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Internationalization
        <br><b>Lesson:</b> Internationalization of Network Resources
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Internationalization of Network Resources</a></div>
<div class="nolinkAHEAD">Internationalized Domain Name</div>
<div class="linkAHEAD"><a href="iri.html">Internationalized Resource Identifier</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Internationalization</a>
                &gt;
                <a href=index.html target=_top>Internationalization of Network Resources</a>
            </span>
            <div class=NavBit>
                <a target=_top href=index.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=iri.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle>Internationalized Domain Name</div>
            <blockquote>
<P>Historically an Internet domain names contain ASCII symbols only. But lately 
the number of those users who want to use Unicode characters when registering 
their domain names increased steeply. But domain name resolving system does not 
allow to apply Unicode characters. 
<P><STRONG>Internationalizing Domain Names</STRONG> in Applications (IDNA) was
adopted as the chosen standard and has a purpose to convert Unicode characters
into standard ASCII domain names and thus preserve the stability of the domain
name system.
<P>Examples of the internationalized domain names:
<UL>
<LI>
<a class="OutsideLink" target="_blank" href="http://xn--xkry9kk1bz66a.cn/">http://&#28165;&#21326;&#22823;&#23398;.cn</a></LI>
<LI>
<a class="OutsideLink" target="_blank" href="http://www.xn--80a0addceeeh.com/">http://www.&#01090;&#01088;&#01072;&#01085;&#01089;&#01087;&#01086;&#01088;&#01090;.com</a></LI>
</UL>
<P> As you follow one of these links you may notice that a Unicode domain name represented in the
address bar will be sustituted by the ASCII string.
<P>You may get interested about how to perform such conversion in your application.<br>
According to
<a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc3490.txt">RFC 3490</a>, IDNA does not extend the service offered by DNS to the applications. Instead, 
the applications (and, by implication, the users) continue to see an exact-match 
lookup service.
<P>There are two main operations to accomplish the conversion between ASCII and non
ASCII formats:
<UL>
<LI>In Java&trade;SE the <EM CLASS="EMPHASIS">ToASCII</EM> operation is used before sending an IDN
to domain name resolving system or writing an IDN into a file where ASCII characters
are expected (such as a DNS master file).</LI>
<LI>The <EM CLASS="EMPHASIS">ToUnicode</EM> operation is used when displaying 
names to users, for example names obtained from a DNS zone.</LI>
</UL>
<P>A special class <CODE>java.net.IDN</CODE> in Java&trade; SE allows to perform
these operations. This class has two methods per each operations. The <CODE>
toASCII(String input, int flag)</CODE> method allows to convert Unicode characters to ASCII. 
<P><CODE>flag</CODE> parameter defines the behavior of the conversion process.
The ALLOW_UNASSIGNED flag indicates the using of code points that are unassigned in 
Unicode 3.2 and the USE_STD3_ASCII_RULES flag enables the check against STD-3 ASCII 
rules. You can use these flags separately or logically OR'ed together.
If the flag equals zero, you can specify its value in the two-argument method 
or just invoke a counterpart method:
<pre>
    toASCII(input);
</pre>
<P>If the an input argiment doesn't conform to RFC 3490, this method will throw
<CODE>IllegalArgumentException</CODE>.
<P>
<pre>
    String ace_name = IDN.toASCII("http://&#28165;&#21326;&#22823;&#23398;.cn/");
</pre>
<P>The <CODE>toUnicode</CODE> method Translates a string from ASCII Compatible Encoding (ACE)
to Unicode code points. This method never fails, in case of any error the input string 
remains the same and will be returned unmodified.
<h3>Security concern</h3>
<P>A potential security risk appeared because IDN allows websites to use Unicode names.
It can make easier to create a web site that can has a domain name, security certificates or 
even an outward appearance exactly like your own site. But in fact, it can be used for phishing purpose 
in order to collect private information about your site visitors. These sites are called
a <EM Class="Emphasis">spoofed</EM> web sites. 
<P>For example, somebody can register a site with identical domain name as you have, by substituting 
a small Latin "a" or "o" with a resembling Cyrillic "a" or "o". In this case, new domain 
points users to another site and potentially opens users up to <EM class="Emphasis">homograph</EM> attacks.
<P>This is a well-known issue from the very beginning of introducing of the IDN
conception. You can avoid it by turning off the IDN support entirely. You should type <CODE>"about:config"</CODE> into the 
address bar of the browser, find the <CODE>"network.enableIDN"</CODE> setting, and change its value to "false".
<p><center><IMG SRC="../../figures/i18n/about_config.gif" WIDTH="533" HEIGHT="367" ALIGN="BOTTOM" ALT="about:config setting"></center></p><P>Also, both Mozilla and Opera have now announced the using of per-domain
whitelists for selectively switching on IDN for those domains which
are taking appropriate anti-spoofing precautions.<BR>
You can try to adjust the <CODE>"network.IDN.whitelist.<EM Class="Emphasis">&lt;lang&gt;</EM>"</CODE> settings to enable/disable
a whitelist for a partucular language. 



        </blockquote>
        <div class=NavBit>
            <a target=_top href=index.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=iri.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer>
<div id=TagNotes>
    Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://developer.sun.com/contact/tutorial_feedback.jsp">Give
    us your feedback</a>.
<br><br>
    <a target="_blank" href="../../information/copyright.html">Copyright</a>
    1995-2007 Sun Microsystems, Inc.  All rights reserved.
    <span id=Download>
</span></div> 

    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Internationalization of Network Resources
        <br><b>Next page:</b> Internationalized Resource Identifier
    </div>
    </body>
</html> 
