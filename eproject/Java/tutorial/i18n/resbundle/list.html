<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
    <head>
        <title>Using a ListResourceBundle (The Java&trade; Tutorials &gt; 
            Internationalization &gt; Isolating Locale-Specific Data)
</title>
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #E76F00;
        font-family: sans-serif; 
        font-weight: bold;
        font-size: 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;
        font-size: smaller;
        font-family: sans-serif; 
    }
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #E76F00;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h3, h4, h5 {
        color: #E76F00;
        font-family: sans-serif;
    }
    #ToggleLeft {
        display: none;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Internationalization
        <br><b>Lesson:</b> Isolating Locale-Specific Data
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Isolating Locale-Specific Data</a></div>
<div class="linkAHEAD"><a href="concept.html">About the ResourceBundle Class</a></div>
<div class="linkAHEAD"><a href="prepare.html">Preparing to Use a ResourceBundle</a></div>
<div class="linkAHEAD"><a href="propfile.html">Backing a ResourceBundle with Properties Files</a></div>
<div class="nolinkAHEAD">Using a ListResourceBundle</div>
<div class="linkAHEAD"><a href="control.html">Customizing Resource Bundle Loading</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Internationalization</a>
                &gt;
                <a href=index.html target=_top>Isolating Locale-Specific Data</a>
            </span>
            <div class=NavBit>
                <a target=_top href=propfile.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=control.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle>Using a ListResourceBundle</div>
            <blockquote>
This section illustrates the use of a <CODE>ListResourceBundle</CODE>
object with a sample program called

<a class="SourceLink" target="_blank" href="examples/ListDemo.java"><code><CODE>ListDemo</CODE></code></a>.
The text
that follows explains each step involved in creating the
<CODE>ListDemo</CODE> program, along with the
<CODE>ListResourceBundle</CODE> subclasses that support it.

</blockquote>
<h3>1. Create the ListResourceBundle Subclasses</h3>
<blockquote>
A <CODE>ListResourceBundle</CODE> is backed up by a class file.
Therefore the first step is to create a class file for every supported
<CODE>Locale</CODE>. In the <CODE>ListDemo</CODE> program the base name
of the <CODE>ListResourceBundle </CODE> is <CODE>StatsBundle</CODE>.
Since <CODE>ListDemo</CODE> supports three <CODE>Locale</CODE> objects,
it requires the following three class files:
<blockquote><pre>
StatsBundle_en_CA.class
StatsBundle_fr_FR.class
StatsBundle_ja_JP.class
</pre></blockquote>
<P>
The <CODE>StatsBundle</CODE> class for Japan is defined in the source
code that follows. Note that the class name is constructed by appending
the language and country codes to the base name of the
<CODE>ListResourceBundle</CODE>. Inside the class the two-dimensional
<CODE>contents</CODE> array is initialized with the key-value pairs.
The keys are the first element in each pair: <CODE>GDP</CODE>,
<CODE>Population</CODE>, and <CODE>Literacy</CODE>. The keys must be
<CODE>String</CODE> objects and they must be the same in every class in
the <CODE>StatsBundle</CODE> set. The values can be any type of object.
In this example the values are two <CODE>Integer</CODE> objects and a
<CODE>Double</CODE> object.
<blockquote><pre>
import java.util.*;
public class StatsBundle_ja_JP extends ListResourceBundle {
    public Object[][] getContents() {
	return contents;
    }
    private Object[][] contents = {
	{ &quot;GDP&quot;, new Integer(21300) },
	{ &quot;Population&quot;, new Integer(125449703) },
	{ &quot;Literacy&quot;, new Double(0.99) },
    };
}
</pre></blockquote>
</blockquote>

<h3>2. Specify the Locale</h3>
<blockquote>
The <CODE>ListDemo</CODE> program defines the <CODE>Locale</CODE>
objects as follows:
<blockquote><pre>
Locale[] supportedLocales = {
    new Locale(&quot;en&quot;, &quot;CA&quot;),
    new Locale(&quot;ja&quot;, &quot;JP&quot;),
    new Locale(&quot;fr&quot;, &quot;FR&quot;)
};
</pre></blockquote>

Each <CODE>Locale</CODE> object corresponds to one of the
<CODE>StatsBundle </CODE> classes. For example, the Japanese
<CODE>Locale</CODE>, which was defined with the <CODE>ja</CODE> and
<CODE>JP</CODE> codes, matches <CODE>StatsBundle_ja_JP.class</CODE>.
</blockquote>

<h3> 3. Create the ResourceBundle</h3>
<blockquote>
To create the <CODE>ListResourceBundle</CODE>, invoke the
<CODE>getBundle </CODE> method. The following line of code specifies
the base name of the class (<CODE>StatsBundle</CODE>) and the
<CODE>Locale</CODE>:
<blockquote><pre>
ResourceBundle stats =
		ResourceBundle.getBundle(&quot;StatsBundle&quot;, currentLocale);
</pre></blockquote>
<P>
The <CODE>getBundle</CODE> method searches for a class whose name
begins with <CODE>StatsBundle</CODE> and is followed by the language
and country codes of the specified <CODE>Locale</CODE>. If the
<CODE>currentLocale</CODE> is created with the <CODE> ja</CODE> and
<CODE>JP</CODE> codes, <CODE>getBundle</CODE> returns a
<CODE>ListResourceBundle</CODE> corresponding to the class
<CODE>StatsBundle_ja_JP</CODE>, for example.
</blockquote>

<h3 CLASS="D-Head"> 4. Fetch the Localized Objects</h3>
<blockquote>
Now that the program has a <CODE>ListResourceBundle</CODE> for the
appropriate <CODE>Locale</CODE>, it can fetch the localized objects by
their keys. The following line of code retrieves the literacy rate by
invoking <CODE>getObject</CODE> with the <CODE>Literacy</CODE> key
parameter. Since <CODE>getObject</CODE> returns an object, cast it to a
<CODE>Double</CODE>:
<blockquote><pre>
Double lit = (Double)stats.getObject(&quot;Literacy&quot;);
</pre></blockquote>
</blockquote>

<h3> 5. Run the Demo Program</h3>
<blockquote>
<CODE>ListDemo</CODE> program prints the data it fetched with the
<CODE>getBundle </CODE> method:
<blockquote><pre>
Locale = en_CA
GDP = 24400
Population = 28802671
Literacy = 0.97

Locale = ja_JP
GDP = 21300
Population = 125449703
Literacy = 0.99

Locale = fr_FR
GDP = 20200
Population = 58317450
Literacy = 0.99
</pre></blockquote>


        </blockquote>
        <div class=NavBit>
            <a target=_top href=propfile.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=control.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer>
<div id=TagNotes>
    Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://developer.sun.com/contact/tutorial_feedback.jsp">Give
    us your feedback</a>.
<br><br>
    <a target="_blank" href="../../information/copyright.html">Copyright</a>
    1995-2007 Sun Microsystems, Inc.  All rights reserved.
    <span id=Download>
</span></div> 

    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Backing a ResourceBundle with Properties Files
        <br><b>Next page:</b> Customizing Resource Bundle Loading
    </div>
    </body>
</html> 
