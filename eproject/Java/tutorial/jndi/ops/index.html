



<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
    <head>
        <title>Lesson: Naming and Directory Operations (The Java&trade; Tutorials &gt; Java Naming and Directory Interface(TM).)</title>
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #E76F00;
        font-family: sans-serif; 
        font-weight: bold;
        font-size: 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;
        font-size: smaller;
        font-family: sans-serif; 
    }
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #E76F00;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h3, h4, h5 {
        color: #E76F00;
        font-family: sans-serif;
    }
    #ToggleLeft {
        display: none;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                    <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                        <br>
                        <a href="javascript:toggleLeft()"
                            id="ToggleLeft">Hide the TOC</a>
                    </div> 
                </div> </div> </div> </div> </div>

    <div id=LeftBar>
        <div id=Contents>
            <div class="nolinkLESSON">Naming and Directory Operations</div>
<div class="linkAHEAD"><a href="exception.html">Naming Exceptions</a></div>
<div class="linkAHEAD"><a href="lookup.html">Lookup an Object</a></div>
<div class="linkAHEAD"><a href="list.html">List the Context</a></div>
<div class="linkAHEAD"><a href="bind.html">Add, Replace or Remove a Binding</a></div>
<div class="linkAHEAD"><a href="rename.html">Rename</a></div>
<div class="linkAHEAD"><a href="create.html">Create and Destroy Subcontexts</a></div>
<div class="linkAHEAD"><a href="attrnames.html">Attribute Names</a></div>
<div class="linkAHEAD"><a href="getattrs.html">Read Attributes</a></div>
<div class="linkAHEAD"><a href="modattrs.html">Modify Attributes</a></div>
<div class="linkAHEAD"><a href="bindattr.html">Add, Replace Bindings with Attributes</a></div>
<div class="linkAHEAD"><a href="search.html">Search</a></div>
<div class="linkBHEAD"><a href="basicsearch.html">Basic Search</a></div>
<div class="linkBHEAD"><a href="filter.html">Filters</a></div>
<div class="linkBHEAD"><a href="scope.html">Scope</a></div>
<div class="linkBHEAD"><a href="countlimit.html">Result Count</a></div>
<div class="linkBHEAD"><a href="timelimit.html">Time Limit</a></div>
<div class="linkAHEAD"><a href="faq.html">Trouble Shooting Tips</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
        <div class=PrintHeaders>
            <b>Trail:</b> Java Naming and Directory Interface(TM).
        </div>
        <div id=BreadCrumbs>
            <a href=../../index.html target=_top>Home Page</a>
        &gt;
            <a href=../index.html target=_top>Java Naming and Directory Interface(TM).</a>
        </div>
        <div class=NavBit>
                <a target=_top href=../software/index.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=exception.html>Next&nbsp;&raquo;</a>
        </div>
        <div id=PageTitle>Lesson: Naming and Directory Operations</div>
        <blockquote>
You can use the JNDI to perform naming operations, including
read operations and operations
for updating the namespace.
The following operations are described in this lesson:
<ul>
<li><a href=lookup.html>Looking up an object</a>
<li><a href=list.html>Listing the contents of a context</a> 
<li><a href=bind.html>Adding, overwriting, and removing a binding</a>
<li><a href=rename.html>Renaming an object</a>
<li><a href=create.html>Creating and destroying subcontexts</a>
</ul>

<p>

<h4>Configuration</h4>
Before performing any operation on a naming or directory service,
you need to acquire an <em>initial context</em>--the
starting point into the namespace.
This is because all methods on naming and directory services
are performed relative to some context.
To get an initial context, you must follow these steps.
<ol>
<li>Select the service provider of the 
corresponding service you want to access.
<li>Specify any configuration 
that the initial context needs.
<li>Call the 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/javax/naming/InitialContext.html#constructor_detail"><tt>InitialContext</tt></a>     constructor.
</ol>

<h4>Step1: Select the Service Provider for the Initial Context</h4>

You can specify the service provider to use for the initial context
by creating a set of <em>environment properties</em> (a <tt>Hashtable</tt>) 
and adding the name of the service provider class to it.
Environment properties are described in detail in the 

<a target="_top" href="http://java.sun.com/products/jndi/tutorial/beyond/env/index.html">JNDI Tutorial</a> <a target="_top" href="http://java.sun.com/products/jndi/tutorial/beyond/env/index.html"></a>
<p>
If you are using the LDAP service provider from Sun Microsystems,
then your code would look like the following.

<blockquote>
<pre>
Hashtable<String, Object> env = new Hashtable<String, Object>();
env.put(Context.INITIAL_CONTEXT_FACTORY, 
	"com.sun.jndi.ldap.LdapCtxFactory");
</pre>
</blockquote>

To specify the file system service provider from Sun Microsystems,
you would write code that looks like the following.

<blockquote>
<pre>
Hashtable<String, Object> env = new Hashtable<String, Object>();
env.put(Context.INITIAL_CONTEXT_FACTORY, 
	"com.sun.jndi.fscontext.RefFSContextFactory");
</pre>
</blockquote>

You can also use 
<em>system properties</em> 
to specify the service provider to use.
Check out the

<a target="_top" href="http://java.sun.com/products/jndi/tutorial/beyond/index.html">JNDI Tutorial</a> <a target="_top" href="http://java.sun.com/products/jndi/tutorial/beyond/index.html"></a>     for details.

<h4>Step2: Supply the Information Needed by the Initial Context</h4>

Clients of different directories might need various information
for contacting the directory.
For example, you might need to specify on which machine the server is running
and what information is needed to identify the user to the directory.
Such information is passed to the service provider via
environment properties.
The JNDI specifies some generic environment properties that service
providers can use.
Your service provider documentation will give details on the
information required for these properties.

<p>
The LDAP provider requires that the program specify the location of the LDAP
server, as well as user identity information.
To provide this information, 
you would write code that looks as follows.

<blockquote>
<pre>
env.put(Context.PROVIDER_URL, "ldap://ldap.wiz.com:389");
env.put(Context.SECURITY_PRINCIPAL, "joeuser");
env.put(Context.SECURITY_CREDENTIALS, "joepassword");
</pre>
</blockquote>

This tutorial uses the LDAP service provider from
Sun Microsystems. 
The examples assume that a server has been set up
on the local machine at port 389 with the root-distinguished name of
<tt>"o=JNDITutorial"</tt> and that no authentication is required for
updating the directory. They include the following code for
setting up the environment.
<blockquote>
<pre>
env.put(Context.PROVIDER_URL, "ldap://localhost:389/o=JNDITutorial");
</pre>
</blockquote>

If you are using a directory that is set up differently,
then you will need to set up these environment properties accordingly.
You will need to replace <tt>"localhost"</tt> with the name of that machine.
You can run these examples against any
<a target="_top" href="../../jndi/software/index.html">public directory servers</a> <a target="_top" href="../../jndi/software/index.html"></a>or your own server running on a different machine.
You will need to replace <tt>"localhost"</tt> with the name of that machine
and replace <tt>o=JNDITutorial</tt> with the naming context that is
available.

<h4>Step3: Creating the Initial Context</h4>

You are now ready to create the initial context.
To do that, you pass to the 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/javax/naming/InitialContext.html#constructor_detail"><tt>InitialContext</tt> constructor</a>     the environment properties that you created previously:

<blockquote>
<pre>
Context ctx = new InitialContext(env);
</pre>
</blockquote>

<p>
Now that you have a reference to a 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/javax/naming/Context.html"><tt>Context</tt></a>     object,
you can begin to access the naming service.

<p>
To perform directory operations, you need to use an 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/javax/naming/directory/InitialDirContext.html"><tt>InitialDirContext</tt></a>. To do that, use one of its 

<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/javax/naming/directory/InitialDirContext.html#constructor_detail">constructors</a>:
<blockquote>
<pre>
DirContext ctx = new InitialDirContext(env);
</pre>
</blockquote>

<p>
This statement returns a reference to a 
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/javax/naming/directory/DirContext.html"><tt>DirContext</tt></a>     object for performing directory operations.
        </blockquote>
    <div class=NavBit>
        <a href=../software/index.html>&laquo; Previous</a>
        &bull;
        <a href=../TOC.html>Trail</a>
        &bull;
        <a href=exception.html>Next &raquo;</a>
    </div>
    </div>
    <div id=Footer>
<div id=TagNotes>
    Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://developer.sun.com/contact/tutorial_feedback.jsp">Give
    us your feedback</a>.
<br><br>
    <a target="_blank" href="../../information/copyright.html">Copyright</a>
    1995-2007 Sun Microsystems, Inc.  All rights reserved.
    <span id=Download>
</span></div> 

    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Previous Lesson
        <br><b>Next page:</b> Naming Exceptions
    </div>
    </body>
</html> 
