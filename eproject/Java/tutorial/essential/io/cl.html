<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
    <head>
        <title>I/O from the Command Line (The Java&trade; Tutorials &gt; 
            Essential Classes &gt; Basic I/O)
</title>
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #E76F00;
        font-family: sans-serif; 
        font-weight: bold;
        font-size: 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;
        font-size: smaller;
        font-family: sans-serif; 
    }
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #E76F00;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h3, h4, h5 {
        color: #E76F00;
        font-family: sans-serif;
    }
    #ToggleLeft {
        display: none;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Essential Classes
        <br><b>Lesson:</b> Basic I/O
        <br><b>Section:</b> I/O Streams
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Basic I/O</a></div>
<div class="linkAHEAD"><a href="streams.html">I/O Streams</a></div>
<div class="linkBHEAD"><a href="bytestreams.html">Byte Streams</a></div>
<div class="linkBHEAD"><a href="charstreams.html">Character Streams</a></div>
<div class="linkBHEAD"><a href="buffers.html">Buffered Streams</a></div>
<div class="linkBHEAD"><a href="scanfor.html">Scanning and Formatting</a></div>
<div class="linkCHEAD"><a href="scanning.html">Scanning</a></div>
<div class="linkCHEAD"><a href="formatting.html">Formatting</a></div>
<div class="nolinkBHEAD">I/O from the Command Line</div>
<div class="linkBHEAD"><a href="datastreams.html">Data Streams</a></div>
<div class="linkBHEAD"><a href="objectstreams.html">Object Streams</a></div>
<div class="linkAHEAD"><a href="fileio.html">File I/O</a></div>
<div class="linkBHEAD"><a href="file.html">File Objects</a></div>
<div class="linkBHEAD"><a href="rafs.html">Random Access Files</a></div>
<div class="linkAHEAD"><a href="nio.html">The New I/O Packages</a></div>
<div class="linkAHEAD"><a href="summary.html">Summary</a></div>
<div class="linkQUESTIONS"><a href="QandE/questions.html">Questions and Exercises</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Essential Classes</a>
                &gt;
                <a href=index.html target=_top>Basic I/O</a>
            </span>
            <div class=NavBit>
                <a target=_top href=formatting.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=datastreams.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle>I/O from the Command Line</div>
            <blockquote>
A program is often run from the command line and interacts with the user in
the command line environment. The Java platform supports this kind of
interaction in two ways: through the Standard Streams and through the
Console.
<h3>Standard Streams</h3>
Standard Streams are a feature of many operating systems. 
By default, they read input from the keyboard and write output to the
display. They also support I/O on files and between programs, but
that feature is controlled by the command line interpreter, not the
program.
<p>
The Java platform supports three Standard Streams: <em>Standard
    Input</em>, accessed through <code>System.in</code>; <em>Standard
    Output</em>, accessed through <code>System.out</code>; and
<em>Standard Error</em>, accessed through <code>System.err</code>.
These objects are defined automatically and do not need to be opened.
Standard Output and Standard Error are both for output; having error
output separately allows the user to divert regular output to a file
and still be able to read error messages. For more information, refer
to the documentation for your command line interpreter.
<p>
You might expect the Standard Streams to be character streams,
but, for historical reasons, they are byte streams.
<code>System.out</code> and <code>System.err</code> are defined as
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/io/PrintStream.html"><code>PrintStream</code></a>
objects. Although it is technically a byte stream,
<code>PrintStream</code> utilizes an internal character stream object
to emulate many of the features of character streams.
<p>
By contrast, <code>System.in</code> is a byte stream with no character
stream features. To use Standard Input as a character stream, wrap
<code>System.in</code> in <code>InputStreamReader</code>.
<blockquote><pre>
InputStreamReader cin = new InputStreamReader(System.in);
</pre></blockquote>
<h3>The Console</h3>
A more advanced alternative to the Standard Streams is the Console.
This is a single, predefined object of type
<a class="APILink" target="_blank" href="http://java.sun.com/javase/6/docs/api/java/io/Console.html"><code>Console</code></a>
that has most of the features provided
by the Standard Streams, and others besides. The Console is
particularly useful for secure password entry. The Console object also provides
input and output streams that are true character streams, through its
<code>reader</code> and <code>writer</code> methods.
<p>
Before a program can use the Console, it must attempt to retrieve the Console
object by invoking <code>System.console()</code>. If the Console
object is available, this method returns it. If
<code>System.console</code> returns <code>NULL</code>, then Console
operations are not permitted, either because the OS doesn't support
them or because the program was launched in a noninteractive
environment.
<p>
The Console object supports secure password entry through its
<code>readPassword</code> method. This method helps secure password
entry in two ways. First, it suppresses echoing, so the password is
not visible on the user's screen. Second, <code>readPassword</code>
returns a character array, not a <code>String</code>, so the
password can be overwritten, removing it from memory as soon as it is
no longer needed.
<p>
The
<a class="SourceLink" target="_blank" href="examples/Password.java"><code>Password</code></a>
example is a prototype program for changing a user's password. It
demonstrates several <code>Console</code> methods.
<blockquote><pre>
import java.io.Console;
import java.util.Arrays;
import java.io.IOException;

public class Password {
    
    public static void main (String args[]) throws IOException {

        Console c = System.console();
        if (c == null) {
            System.err.println("No console.");
            System.exit(1);
        }

        String login = c.readLine("Enter your login: ");
        char [] oldPassword = c.readPassword("Enter your old password: ");

        if (verify(login, oldPassword)) {
            boolean noMatch;
            do {
                char [] newPassword1 =
                    c.readPassword("Enter your new password: ");
                char [] newPassword2 =
                    c.readPassword("Enter new password again: ");
                noMatch = ! Arrays.equals(newPassword1, newPassword2);
                if (noMatch) {
                    c.format("Passwords don't match. Try again.%n");
                } else {
                    change(login, newPassword1);
                    c.format("Password for %s changed.%n", login);
                }
                Arrays.fill(newPassword1, ' ');
                Arrays.fill(newPassword2, ' ');
            } while (noMatch);
        }

        Arrays.fill(oldPassword, ' ');

    }

    //Dummy verify method. 
    static boolean verify(String login, char[] password) {
        return true;
    }

    //Dummy change method.
    static void change(String login, char[] password) {}
}
        
</pre></blockquote>

<code>Password</code> follows these steps:
<ol>
    <li>Attempt to retrieve the Console object. If the object is not
    available, abort.
    <li>Invoke <code>Console.readLine</code> to prompt for and read
    the user's login name.
    <li>Invoke <code>Console.readPassword</code> to prompt for and
    read the user's existing password.
    <li>Invoke <code>verify</code> to confirm that the user is
    authorized to change the password. (In this example,
    <code>verify</code> is a dummy method that always returns
    <code>true</code>.)
    <li>Repeat the following steps until the user enters the same
    password twice:
    <ol style="list-style-type: lower-alpha">
        <li>Invoke <code>Console.readPassword</code> twice to prompt
        for and read a new password.
        <li>If the user entered the same password both times, invoke
        <code>change</code> to change it. (Again, <code>change</code>
        is a dummy method.)
        <li>Overwrite both passwords with blanks.
    </ol>
    <li>Overwrite the old password with blanks.
</ol>
        </blockquote>
        <div class=NavBit>
            <a target=_top href=formatting.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=datastreams.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer>
<div id=TagNotes>
    Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://developer.sun.com/contact/tutorial_feedback.jsp">Give
    us your feedback</a>.
<br><br>
    <a target="_blank" href="../../information/copyright.html">Copyright</a>
    1995-2007 Sun Microsystems, Inc.  All rights reserved.
    <span id=Download>
</span></div> 

    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Formatting
        <br><b>Next page:</b> Data Streams
    </div>
    </body>
</html> 
